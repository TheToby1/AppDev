<!Doctype HTML>
<html>
	<head>
		<meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
		<title>Test</title>
	</head>
	<body>
		<table>
			<tr>
				<td colspan="4" id="numdisplay"><bdi id ="nd"></bdi></td>
			</tr>
			<tr>
				<td colspan="2"><button type="button" value = "clear" onclick="clearall();">A/C</button></td>
				<td colspan="2"><button type="button" value = "del" onclick="backspace();">DEL</button></td>
			</tr>
			<tr>
				<td><button type="button" value = "7" onclick="displaynum('7');">7</button></td>
				<td><button type="button" value = "8" onclick="displaynum('8');">8</button></td>
				<td><button type="button" value = "9" onclick="displaynum('9');">9</button></td>
				<td><button type="button" value = "divi" onclick="displaynum('/');">/</button></td>
			</tr>
			<tr>
				<td><button type="button" value = "4" onclick="displaynum('4');">4</button></td>
				<td><button type="button" value = "5" onclick="displaynum('5');">5</button></td>
				<td><button type="button" value = "6" onclick="displaynum('6');">6</button></td>
				<td><button type="button" value = "mult" onclick="displaynum('*');">*</button></td>
			</tr>
			<tr>
				<td><button type="button" value = "1" onclick="displaynum('1');">1</button></td>
				<td><button type="button" value = "2" onclick="displaynum('2');">2</button></td>
				<td><button type="button" value = "3" onclick="displaynum('3');">3</button></td>
				<td><button type="button" value = "minu" onclick="displaynum('-');">-</button></td>
			</tr>
			<tr>
				<td><button type="button" value = "point" onclick="displaynum('.');">.</button></td>
				<td><button type="button" value = "0" onclick="displaynum('0');">0</button></td>
				<td><button type="button" value = "equal" onclick="dosum();">=</button></td>
				<td><button type="button" value = "plus" onclick="displaynum('+');">+</button></td>
			</tr>
			<script>
				function displaynum(value){
					var display = document.getElementById("nd");
					var str1 = display.innerHTML;
					//alert(typeof str1);
					if(value=="-"|value=="+"){
						var char1 = str1.charAt(str1.length - 1);
						//alert(char1);
						if(char1=='-'|char1=='+'){
							str1 = str1.substring(0, str1.length - 1);
						}
					}
					else if(value=='*'|value=='/'){
						var char1 = str1.charAt(str1.length - 1);
						if(char1=='*'|char1=='/'){
							str1 = str1.substring(0, str1.length - 1);
						}
						else if(char1=='-'|char1=='+'){
							var char2 = str1.charAt(str1.length - 2);
							str1 = str1.substring(0, str1.length - 1);
							if(char2=='*'|char2=='/'){
								str1 = str1.substring(0, str1.length - 1);
							}
						}
					}
					else if(value=='.'){
						var char1 = str1.charAt(str1.length - 1);
						if(char1=='.'){
							str1 = str1.substring(0, str1.length - 1);
						}
					}
					display.innerHTML = str1 + value;
					//alert(display.innerHTML);
				}
				function clearall(){
					var display = document.getElementById("nd");
					display.innerHTML = '';
				}
				function backspace(){
					var display = document.getElementById("nd");
					var str1 = display.innerHTML;
					display.innerHTML = str1.substring(0, str1.length-1);
				}
				function dosum(){
					var display = document.getElementById("nd");
					var str1 = display.innerHTML;
					var value1=0;
					var value2=0;
					var end = 0;
					var start = 0;
					if(str1.charAt(str1.length-1)=='-'|str1.charAt(str1.length-1)=='+'|str1.charAt(str1.length-1)=='*'|str1.charAt(str1.length-1)=='/'){
						str1 = str1.substring(0, str1.length-1);
					}
					for(i=0;i<str1.length;i++){
						if(str1.charAt(i)=='*'){
							for(j=i+1;j<str1.length;j++){
								if(str1.charAt(j)=='-'|str1.charAt(j)=='+'|str1.charAt(j)=='*'|str1.charAt(j)=='/'){
									value1 = parseFloat(str1.substring(i+1,j));
									end = j;
									j=str1.length;
									//alert('nextmult');
									//alert(value1);
								}
								else if(j==str1.length-1){
									value1 = parseFloat(str1.substring(i+1));
									end = j+1;
									//alert('nextmult');
									//alert(value1);
								}
							}
							for(j=i-1;j>-1;j--){
								if(str1.charAt(j)=='-'|str1.charAt(j)=='+'|str1.charAt(j)=='*'|str1.charAt(j)=='/'){
									value2 = parseFloat(str1.substring(j+1,i));
									start = j+1;
									j = -1;
									//alert('next1mult');
									//alert(value2);
								}
								else if(j==0){
									value2 = parseFloat(str1.substring(j,i));
									start = -1;
									j = -1;
									//alert('next1mult');
									//alert(value2);
								}
							}
							value1 = value1*value2;
							str1 = str1.substring(0,start) + String(value1) + str1.substring(end);
							//alert('next2mult');
							//alert(str1);
							i=-1;
						}
					}
					for(i=0;i<str1.length;i++){
						if(str1.charAt(i)=='/'){
							for(j=i+1;j<str1.length;j++){
								if(str1.charAt(j)=='-'|str1.charAt(j)=='+'|str1.charAt(j)=='*'|str1.charAt(j)=='/'){
									value1 = parseFloat(str1.substring(i+1,j));
									end = j;
									j=str1.length
								}
								else if(j==str1.length-1){
									value1 = parseFloat(str1.substring(i+1));
									end = j+1;
								}
							}
							for(j=i-1;j>-1;j--){
								if(str1.charAt(j)=='-'|str1.charAt(j)=='+'|str1.charAt(j)=='*'|str1.charAt(j)=='/'){
									value2 = parseFloat(str1.substring(j+1,i));
									start = j+1;
									j = -1;
									//alert('next1');
									//alert(value2);
								}
								else if(j==0){
									value2 = parseFloat(str1.substring(j,i));
									start = -1;
									j = -1;
									//alert('next1');
									//alert(value2);
								}
							}
							value1 = value2/value1;
							str1 = str1.substring(0,start) + String(value1) + str1.substring(end);
							//alert(str1);
							i=-1;
						}
					}
					for(i=0;i<str1.length;i++){
						if(str1.charAt(i)=='+'){
							for(j=i+1;j<str1.length;j++){
								if(str1.charAt(j)=='-'|str1.charAt(j)=='+'|str1.charAt(j)=='*'|str1.charAt(j)=='/'){
									value1 = parseFloat(str1.substring(i+1,j));
									end = j;
									j=str1.length
								}
								else if(j==str1.length-1){
									value1 = parseFloat(str1.substring(i+1));
									end = j+1;
								}
							}
							for(j=i-1;j>-1;j--){
								if(str1.charAt(j)=='-'|str1.charAt(j)=='+'|str1.charAt(j)=='*'|str1.charAt(j)=='/'){
									value2 = parseFloat(str1.substring(j+1,i));
									start = j+1;
									j = -1;
									//alert('next1');
									//alert(value2);
								}
								else if(j==0){
									value2 = parseFloat(str1.substring(j,i));
									start = -1;
									j = -1;
									//alert('next1');
									//alert(value2);
								}
							}
							value1 = value1+value2;
							str1 = str1.substring(0,start) + String(value1) + str1.substring(end);
							//alert(str1);
							i=-1;
						}
					}
					for(i=0;i<str1.length;i++){
						if(str1.charAt(i)=='-'){
							for(j=i+1;j<str1.length;j++){
								if(str1.charAt(j)=='-'|str1.charAt(j)=='+'|str1.charAt(j)=='*'|str1.charAt(j)=='/'){
									value1 = parseFloat(str1.substring(i+1,j));
									end = j;
									j=str1.length
									//alert('nextmin');
									//alert(value1);
								}
								else if(j==str1.length-1){
									value1 = parseFloat(str1.substring(i+1));
									end = j+1;
									//alert('nextmin');
									//alert(value1);
								}
							}
							for(j=i-1;j>-1;j--){
								if(str1.charAt(j)=='-'|str1.charAt(j)=='+'|str1.charAt(j)=='*'|str1.charAt(j)=='/'){
									value2 = parseFloat(str1.substring(j+1,i));
									start = j+1;
									j = -1;
									//alert('next1min');
									//alert(value2);
								}
								else if(j==0){
									value2 = parseFloat(str1.substring(j,i));
									start = -1;
									j = -1;
									//alert('next1min');
									//alert(value2);
								}
							}
							value1 = value2-value1;
							str1 = str1.substring(0,start) + String(value1) + str1.substring(end);
							//alert('next2min');
							//alert(str1);
							i=-1;
						}
					}
					//alert(str1);
					display.innerHTML = str1;
				}
			</script>
	</body>
</html>